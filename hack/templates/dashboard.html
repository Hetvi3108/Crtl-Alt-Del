<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Smart Academic Calendar</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="dashboard">

    <!-- LEFT COLUMN -->
    <div class="left-column">

        <!-- Stats Row -->
        <div class="stats-row">
            <div class="card stat-box">
                <h3>Daily Time</h3>
                <p>
                    {{ daily_time }}
                    {{ 'hour' if daily_time == 1 else 'hours' }}
                </p>
            </div>

            <div class="card stat-box">
                <h3>Missing Skills</h3>
                <p>{{ missing_skills|length }}</p>
            </div>
        </div>

        <!-- Career Goal -->
        <div class="card">
            <h3>Career Goal</h3>
            <p class="goal-text">{{ goal }}</p>
        </div>

        <!-- Learning Heatmap -->
        <div class="card">
            <h3>Learning Heatmap</h3>

            <div class="month-labels">
                {% for month in month_labels %}
                    <span class="month">{{ month.name }}</span>
                {% endfor %}
            </div>

            <div class="year-heatmap">
                {% for level in heatmap %}
                    <div class="heat l{{ level }}"></div>
                {% endfor %}
            </div>

            <div class="heatmap-legend">
                <span>Less</span>
                <span class="l0"></span>
                <span class="l1"></span>
                <span class="l2"></span>
                <span class="l3"></span>
                <span class="l4"></span>
                <span>More</span>
            </div>
        </div>

        <!-- Roadmap Progress -->
        <div class="card">
            <h3>Roadmap to {{ goal }}</h3>

            <div class="roadmap">
                {% for step in roadmap_graph %}
                    <div class="roadmap-step {% if step.completed %}completed{% else %}pending{% endif %}">
                        <span class="dot"></span>
                        <span class="skill-name">{{ step.skill }}</span>
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- Learning Recommendations -->
        <div class="card">
            <h3>Recommended Learning Resources</h3>

            <div class="course-grid">
                {% for rec in recommendations %}
                    <div class="course-card">
                        <span class="tag">{{ rec.platform }}</span>
                        <h4>{{ rec.skill }}</h4>
                        <a href="{{ rec.link }}" target="_blank">Open Resource</a>
                    </div>
                {% else %}
                    <p class="center-text">No recommendations ðŸŽ‰</p>
                {% endfor %}
            </div>
        </div>

    </div>

    <!-- RIGHT COLUMN -->
    <div class="right-column">

        <!-- Weekly Visit Streak -->
        <div class="card">
            <h3>Visit Streak</h3>

            <div class="calendar">
                {% for day in week %}
                    <div class="day {% if day.active %}active{% endif %}">
                        {{ day.name }}
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- Skill Gaps -->
        <div class="card">
            <h3>Skill Gaps</h3>

            {% if missing_skills %}
                <div class="skill-list">
                    {% for skill in missing_skills %}
                        <span class="skill">{{ skill }}</span>
                    {% endfor %}
                </div>
            {% else %}
                <p class="center-text">All required skills achieved ðŸŽ‰</p>
            {% endif %}
        </div>

    </div>

</div>

</body>
</html>
